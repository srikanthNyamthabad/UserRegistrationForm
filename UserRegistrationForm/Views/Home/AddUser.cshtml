@model UserRegistrationForm.Models.User

@{
    ViewData["Title"] = "AddUser";
}

              <form id="Registration" asp-action="AddUser" role="form" asp-controller="Home" asp-antiforgery="true">
                    <div class="form-group">
                        <div class="input-group">

                            <input class="form-control" name="Name" id="Name" placeholder="Name" />
                            <span asp-validation-for="Name" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <input class="form-control" name="Age" id="Age" placeholder="Age" />
                            <span asp-validation-for="Age" class="text-danger"></span>
                            <span asp-validation-for="Age" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <input class="form-control" name="Email" id="Email" placeholder="Email" />
                            <span asp-validation-for="Email" class="text-danger"></span>
                            <span asp-validation-for="Email" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <input class="form-control" name="PhonNumber" id="PhonNumber" placeholder="PhonNumber" />
                            <span asp-validation-for="PhonNumber" class="text-danger"></span>
                            <span asp-validation-for="PhonNumber" class="text-danger"></span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <button class="btn btn-info form-control" type="submit" onclick="SaveForm()"><i class="glyphicon glyphicon-registration-mark"></i> Submit</button>
                        @*<input type="submit" value="AddUser" class="btn btn-primary" />*@
                    </div>
            
            

                </form>
                
                <script>
                    function SaveForm() {
                        var res = validate();
                        if (res == false) {
                            return false;
                        }
                        var empObj = {
                            UserID: $('#UserID').val(),
                            Name: $('#Name').val(),
                            Age: $('#Age').val(),
                            Email: $('#Email').val(),
                            PhonNumber: $('#PhonNumber').val()
                        };
                        if (empObj = !0) {
                             alert("record inserted successfully.")
                        }
                        $.ajax({
                            url: "/Home/AddUser",
                            data: JSON.stringify(empObj),
                            type: "POST",
                            contentType: "application/json;charset=utf-8",
                            dataType: "json",
                            success: function (result) {
                                alert("record inserted successfully.")
                                loadData();
                                
                                 
                            },
                            error: function (errormessage) {
                                alert(errormessage.responseText);
                            }
                        });
                    }


                </script>







